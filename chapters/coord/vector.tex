%\renewcommand{\theequation}{\theenumi}
%\begin{enumerate}[label=\arabic*.,ref=\theenumi]
\begin{enumerate}[label=\thesection.\arabic*.,ref=\thesection.\theenumi]
\numberwithin{equation}{enumi}
\item In 
	\figref{fig:line-eq},
\begin{align}
			\label{eq:line-school}
	a &= y \cot \theta + x
	\\
	\implies \vec{D} &= \myvec{-x \\ y} = \myvec{-a + y\cot \theta \\ y}
	\\
	&=\myvec{-a \\ 0}+y\cot \theta \myvec{ 1 \\ \tan \theta }
	\\
	\text{or, }\vec{D}&\equiv \vec{B} + \kappa \vec{m}
\end{align}
The above equation can be generalized for any point on the line $AB$ as
\begin{align}
\vec{x} = \vec{B} + \kappa \vec{m}
\label{eq:geo-param}
\end{align}
		which is known as the {\em parametric} equation of a line.
		$\vec{m}$ is defined to be the {\em direction vector} of $AB$ and
\begin{align}
	m = \tan \theta
\end{align}
		is defined to be the {\em slope}.
\begin{figure}[!ht]
	\begin{center}
		\resizebox{\columnwidth}{!}{\input{./figs/coord/tri_line.tex}}
%		\resizebox{\columnwidth}{!}{\input{./figs/coord/tri_med_meet.tex}}
	\end{center}
	\caption{$k_1=k_2=2$.}
	\label{fig:line-eq}	
	%\label{fig:tri_med_meet}	
\end{figure}
\item The direction vector of the line $AB$ is
\begin{align}
	\vec{A}-
	\vec{B} \equiv
	\vec{B}-
	\vec{A} \equiv \kappa \myvec{1 \\ m},
\label{eq:dir-vec}
\end{align}
			
\item 			\eqref{eq:line-school} can also be expressed as
\begin{align}
	a &= y \cot \theta + x
	\\
\implies 	\myvec{-\tan \theta & 1}\myvec{-x \\ y} &= b
  \label{eq:dot2d}
	\\
	 \text{or, }\vec{n}^{\top}\vec{x} &= b
\label{eq:geo-normal}
\end{align}
		which is known as the {\em normal} equation of a line.
		Here, 
\begin{align}
	\vec{n} = \myvec{-m \\ 1} 
\end{align}
		is defined to be the {\em normal vector} of the line.
		%	
The vector product in 
  \eqref{eq:dot2d}
  is known as the 
{\em inner product} or {\em dot product} 
%
\item It is easy to verify that
%
\begin{align}
\label{eq:dir_normal_orth}
\vec{n}^{\top}\vec{m} &= 0
\end{align}
%
and
\item 
%
\begin{align}
\vec{n} = \myvec{0 & -1 \\ 1 & 0}\vec{m}
	= \myvec{\cos\brak{\frac{\pi}{2}} & \sin\brak{\frac{\pi}{2}} \\  \sin\brak{\frac{\pi}{2}}& \cos\brak{\frac{\pi}{2}}}\vec{m}
\label{eq:dir_normal_orth-rot}
\end{align}
The matrix 
%
\begin{align}
	\vec{R}_{\theta} 
	= \myvec{\cos	\theta & \sin	\theta \\  \sin	\theta& \cos	\theta}
\label{eq:rot}
\end{align}
is defined to be the {\em rotation matrix}.
\eqref{eq:dir_normal_orth-rot} implies that $\vec{n}$ can be obtained from $\vec{m}$ through a $90 \degree$ clockwise rotation.
  \item From \eqref{eq:geo-param}, 
	  since $\vec{A},\vec{D}$ and $\vec{C}$ are on the same line,
\begin{align}
\begin{split}
	\vec{D}&=\vec{A}+q\vec{m} 
			\\ 
			\vec{B}&=\vec{D}+p\vec{m} 
\end{split}
	\\
			\label{eq:collinear} 
			\implies 	p\brak{\vec{D}-\vec{A}} 
			+ q\brak{\vec{D}-\vec{B}} &= 0, \quad p, q \ne 0 \\ 
			\implies \vec{D} &= \frac{k\vec{A}+\vec{B}}{k+1}, \quad k = \frac{p}{q}.
	  \label{eq:section_formula}
			\end{align} 
	which is known as {\em section formula}. $\brak{\vec{D}-\vec{A}}, \brak{\vec{D}-\vec{B}}$ 
		are then said to be {\em linearly dependent}.
  \item Consequently, points $\vec{A},\vec{B}$ and $\vec{C}$ form a triangle  if 
	  \label{prop:two-tri-indep}
  \begin{align}
	  p\brak{\vec{A}- \vec{B}} +q\brak{\vec{C} -\vec{B}} 
	  \\
	  =\brak{p+q}\vec{B}- p\vec{A} -q\vec{C} = 0
	  \\
	  \implies p=0, q=0
	  \label{eq:two-tri-indep}
  \end{align}
\end{enumerate}
\section{Cosine Formula}
\begin{enumerate}[label=\thesection.\arabic*.,ref=\thesection.\theenumi]
\numberwithin{equation}{enumi}
%
\item
In Fig. \ref{fig:tri_cosine_formula}, show that
%
\begin{equation}
\label{eq:tri_cos_mat}
\begin{pmatrix}
0 & c & b \\
c & 0 & a \\
b & a & 0
\end{pmatrix}
\begin{pmatrix}
\cos A \\
\cos B \\
\cos C
\end{pmatrix}
= 
\begin{pmatrix}
a\\
b\\
c
\end{pmatrix}
\end{equation}
%
%
\begin{figure}[!ht]
	\begin{center}
		
		%\includegraphics[width=\columnwidth]{./figs/ch2_triang_ar}
		%\vspace*{-10cm}
		\resizebox{\columnwidth}{!}{\input{./figs/triangle/tri_cosine_formula.tex}}
	\end{center}
	\caption{The cosine formula}
	\label{fig:tri_cosine_formula}	
\end{figure}
\solution From Fig. \ref{fig:tri_cosine_formula}, 
%
\begin{align}
	a &= x + y = b \cos C + c \cos B = \myvec{  \cos C & \cos B } \myvec{ b \\ c }
	\\
&=\myvec{0 & b & c } \myvec{ \cos A \\ \cos C \\ \cos B } 
\end{align}
%
Similarly,
%
\begin{align}
b &= c \cos A + a \cos C 
=\myvec{c & 0 & a } \myvec{ \cos A \\ \cos C \\ \cos B } 
	\\
c &= b \cos A + a \cos B
=\myvec{b & a & 0 } \myvec{ \cos A \\ \cos C \\ \cos B } 
\end{align}
%
The above equations can be expressed in matrix form as
\eqref{eq:tri_cos_mat}.

\item Show that 
\begin{equation}
\label{eq:tri_cos_form}
\cos A = \frac{b^2+c^2-a^2}{2bc}
\end{equation}
%
\solution 
Using the properties of determinants,
%
\begin{align}
\cos A = \frac{
\begin{vmatrix}
a & c & b \\
b & 0 & a \\
c & a & 0
\end{vmatrix}
	}
	{
\begin{vmatrix}
0 & c & b \\
c & 0 & a \\
b & a & 0
\end{vmatrix}
	}
	=\frac{ab^2 + ac^2 - a^3}{abc + abc} 
= \frac{b^2 + c^2 - a^2}{2abc}
\end{align}
\item The {\em norm} of $\vec{A}$ is defined as
\begin{align}
  \label{eq:norm2d}
	\norm{\vec{A}} 
  &= \sqrt{\vec{A}^{\top} \vec{A}}= \sqrt{a_1^2+a_2^2}
\end{align}
\item In 
	\figref{fig:tri_baudh}	
%\figref{fig:tri_right_angle},	
it is easy to verify that 
\begin{align}
\norm{\vec{A}-\vec{C}}^2  
  = \myvec{-a & c} \myvec{-a \\ c}
= a^2 + c^2 = b^2
\end{align}
from 
	\eqref{eq:tri_baudh}.
Thus, 
	the distance betwen any two  points $\vec{A}$ and $\vec{B}$ is given by 
\begin{align}
  \label{eq:norm2d_dist}
\norm{\vec{A}-\vec{B}} 
\end{align}
  \item In 
	\figref{fig:tri_cosine_formula}	
	show that 
\begin{equation}
	\cos A= 	\frac{\brak{\vec{A}-
	\vec{B}}^{\top}\brak{\vec{A}-\vec{C}}}{\norm{\vec{A}-\vec{B}}\norm{\vec{A}-\vec{C}}}
\label{eq:tri_cos_form-ccentre}
\end{equation}
\solution
From 
\eqref{eq:tri_cos_form}, using 
  \eqref{eq:norm2d_dist},
\begin{align}
\label{eq:tri_cos_form-ccentre-norm}
	\cos A&= 	\frac{\norm{\vec{A}-\vec{B}}^2+\norm{\vec{A}-\vec{C}}^2-\norm{\vec{B}-\vec{C}}^2}{2\norm{\vec{A}-\vec{B}}\norm{\vec{A}-\vec{C}}}
	\\
	&= 	\frac{\norm{\vec{A}}^2-\vec{A}^{\top}\vec{B}-\vec{A}^{\top}\vec{C}+\vec{B}^{\top}\vec{C}}{\norm{\vec{A}-\vec{B}}\norm{\vec{A}-\vec{C}}}
\end{align}
which can be expressed as 
\eqref{eq:tri_cos_form-ccentre}.
\item For $A = 90 \degree$, 
\begin{align}
	\cos A&= 0
	\\
	\implies 
 	\brak{\vec{A}-
	\vec{B}}^{\top}\brak{\vec{A}-\vec{C}} &=0
\label{eq:tri_cos_form-orth}
\end{align}
from 
\eqref{eq:tri_cos_form-ccentre}.
\end{enumerate}
